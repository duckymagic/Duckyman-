<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DuckyMan</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">

  <!-- TailwindCSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontSize: {
            responsive: 'calc(1.5rem + 4vw)',
          },
          textStrokeWidth: {
            thin: '1px',
          },
          colors: {
            light: '#e8eae8',
            dark: '#616d66',
          },
        },
      },
    };
  </script>
</head>
<body class="bg-gradient-to-br from-[#99c2b0ff] to-[#619990ff] min-h-screen flex flex-col items-center">

  <!-- Header -->
  <h1 class="text-[#d6d8d6] font-extrabold text-[calc(1.5rem+4vw)] mt-5 drop-shadow-lg bg-gradient-to-br from-light to-dark bg-clip-text text-stroke-thin"
    style="font-family: 'Luckiest Guy', cursive;">
    DuckyMan
  </h1>

  <!-- Grid of Cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 px-4 w-full mt-6">
    <!-- Tokens Created Card -->
    <div id="tokens-created" class="bg-[#d6d8d6ff] p-6 rounded-lg shadow-lg border border-white">
      <div class="text-lg font-semibold text-[#538573ff] mb-4">Tokens Created</div>
      <div id="tokens-created-content" class="text-gray-700">Loading...</div>
    </div>

    <!-- Transactions Card -->
    <div id="transactions" class="bg-[#d6d8d6ff] p-6 rounded-lg shadow-lg border border-white">
      <div class="text-lg font-semibold text-[#538573ff] mb-4">Transactions</div>
      <div id="transactions-content" class="text-gray-700">Loading...</div>
    </div>

    <!-- Account Trades Card -->
    <div id="account-trades" class="bg-[#d6d8d6ff] p-6 rounded-lg shadow-lg border border-white">
      <div class="text-lg font-semibold text-[#538573ff] mb-4">Account Trades</div>
      <div id="account-trades-content" class="text-gray-700">Loading...</div>
    </div>
  </div>

  <!-- JavaScript to Fetch Real-Time Data -->
  <script>
    const ws = new WebSocket('wss://pumpportal.fun/api/data');

    ws.onopen = () => {
      console.log('WebSocket connected');

      // Subscribe to Token Creation Events
      ws.send(JSON.stringify({ method: 'subscribeNewToken' }));

      // Subscribe to Transactions
      ws.send(JSON.stringify({ method: 'subscribeAccountTrade' }));

      // Subscribe to Token Trades
      ws.send(JSON.stringify({ method: 'subscribeTokenTrade' }));
    };

    ws.onmessage = (event) => {
      const data = JSON.parse(event.data);

      if (data.event === 'newToken') {
        document.getElementById('tokens-created-content').textContent =
          `New Token Created: ${data.tokenName}`;
      } else if (data.event === 'accountTrade') {
        document.getElementById('transactions-content').textContent =
          `Trade: ${data.tradeDetails}`;
      } else if (data.event === 'tokenTrade') {
        document.getElementById('account-trades-content').textContent =
          `Token Trade: ${data.tokenTradeDetails}`;
      }
    };

    ws.onerror = (error) => {
      console.error('WebSocket Error:', error);
    };

    ws.onclose = () => {
      console.log('WebSocket closed');
    };
  </script>
</body>
</html>
